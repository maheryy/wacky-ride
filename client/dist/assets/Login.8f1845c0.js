import{f as p,u as c,g as m,h as x,i as _,o as b,c as h,a as t,j as y,k as i,v as d}from"./index.4ddf9c97.js";const f={class:"main-container"},w={class:"form-wrapper w-80"},g=t("h1",{class:"text-center text-3xl text-gray-600"},"Login",-1),v=["onSubmit"],k=t("button",{type:"submit",class:"px-2 py-2 rounded-md bg-blue-500 text-white"}," Login ",-1),L=p({__name:"Login",setup(S){const l=c(),a=m(),n=x(),s=_({email:"",password:""}),u=async()=>{var o;try{await a.login(s),l.push({name:a.isAdmin?"admin":"community"})}catch(e){((o=e.response)==null?void 0:o.status)===401?n.error("Nom d'utilisateur ou mot de passe incorrect"):n.error("Une erreur est survenue")}};return(o,e)=>(b(),h("div",f,[t("div",w,[g,t("form",{onSubmit:y(u,["prevent"]),class:"flex flex-col gap-4 py-8"},[i(t("input",{type:"text",placeholder:"email",name:"email",class:"px-2 py-2 rounded-md text-black border-2 border-gray-300","onUpdate:modelValue":e[0]||(e[0]=r=>s.email=r),required:""},null,512),[[d,s.email]]),i(t("input",{type:"password",placeholder:"password",name:"password",class:"px-2 py-2 rounded-md text-black border-2 border-gray-300","onUpdate:modelValue":e[1]||(e[1]=r=>s.password=r),required:""},null,512),[[d,s.password]]),k],40,v)])]))}});export{L as default};
